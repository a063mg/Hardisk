e = int(input('Enter e: '))
n = int(input('Enter n: '))
code = input('Enter your code: ').split()

ret = ''

dic = {5608: 'a', 8697: 'b', 6763: 'c', 9015: 'd', 8518: 'e', 6424: 'f', 3263: 'g', 2487: 'h', 4256: 'i', 6204: 'j', 6384: 'k', 3637: 'l', 4301: 'm', 6809: 'n', 2989: 'o', 3907: 'p', 7634: 'q', 2000: 'r', 1640: 's', 7129: 't', 1625: 'u', 8037: 'v', 6739: 'w', 1544: 'x', 5289: 'y', 4722: '0', 6681: '1', 1208: '2', 8196: '3', 2481: '4', 5420: '5', 9723: '6', 5780: '7', 2734: '8', 6799: 'A', 4650: 'B', 9588: 'C', 4503: 'D', 7247: 'E', 6352: 'F', 6522: 'G', 5753: 'H', 7611: 'I', 6518: 'J', 6023: 'K', 1950: 'L', 5107: 'M', 7884: 'N', 9262: 'O', 8416: 'P', 3773: 'Q', 8239: 'R', 7607: 'S', 9348: 'T', 5655: 'U', 1046: 'V', 2990: 'W', 1557: 'X', 7029: 'Y'}

for i in range(len(code)):
	m = int(code[i])
	encode = (m**e)%n
	ret += str(encode)

word = ''
i = 0


while i < len(ret):
	word += dic[int(ret[i:i+4])]
	i += 4
print(word)

